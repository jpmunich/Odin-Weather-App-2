(()=>{"use strict";const e=(e,t,i)=>{const n=document.createElement(e);return t.appendChild(n),n.innerText=i,n},t=(e,t,i)=>{const n=document.createElement(e);return n.classList.add(i),t.appendChild(n),n},i=(i,n,s,a)=>{const d=t("div",i,"weather-cell-container"),r=t("div",d,"icon-container"),m=t("div",d,"weather-text-container");t("img",r,"weather-cell-img").src=n,e("h6",m,s).classList.add("info-text");const l=e("h3",m,`${a}`);return l.classList.add("info-text"),l},n=(i,n,s,a,d)=>{const r=t("div",i,"forecast-cell-container");e("h4",r,s).classList.add("forecast-day");const m=t("div",r,"forecast-temp-container");e("h2",m,`${a} °F`).classList.add("temp-high"),e("h6",m,`${d} °F`).classList.add("temp-low"),t("img",r,"forecast-img").src=n};let s="imperial";const a=document.getElementById("content"),d=t("div",a,"top-content");!function(i,n,a,r){const m=t("div",d,"nav-container");e("h1",m,"Cloudy").setAttribute("id","weather-description-text"),e("h4",m,"Seattle").setAttribute("id","city-description-text"),e("p",m,"Monday, 27th Nov 2023 8:27 pm").setAttribute("id","date-description-text"),e("h1",m,"47 °F").classList.add("temperature-text");const l=e("button",m,"Display: °F");l.setAttribute("id","toggle-units"),l.addEventListener("click",(()=>{"imperial"===s?(s="metric",l.innerText="Display: °C"):"metric"===s&&(s="imperial",l.innerText="Display: °F")})),t("img",m,"weather-img").src="../dist/images/cloudy.svg";const c=t("div",m,"search-container"),o=((e,t)=>{const i=document.createElement("input");return t.appendChild(i),i})(0,c);o.setAttribute("id","search-bar"),o.placeholder="Search",t("img",c,"search-img").src="../dist/images/search.svg"}(),function(e,n,s,a,r,m,l,c){const o=t("div",d,"cell-container"),u=t("div",o,"left-cell-container"),g=t("div",o,"right-cell-container");i(u,"../dist/images/sunrise.svg","Sunrise","7:30").setAttribute("id","sunrise-cell"),i(u,"../dist/images/sunset.svg","Sunset","8:00").setAttribute("id","sunset-cell"),i(u,"../dist/images/target.svg","Pressure","1040").setAttribute("id","pressure-cell"),i(u,"../dist/images/wind.svg","Wind Direction","100°").setAttribute("id","wind-direction-cell"),i(g,"../dist/images/thermometer.svg","Feels Like","17 °F").setAttribute("id","feels-like-cell"),i(g,"../dist/images/droplet.svg","Humidity","58%").setAttribute("id","humidity-cell"),i(g,"../dist/images/eye.svg","Visibility","10000m").setAttribute("id","visibility-cell"),i(g,"../dist/images/wind.svg","Wind Speed","14 mph").setAttribute("id","wind-cell")}(),function(i,s){const d=t("div",a,"toggle-container");e("button",d,"Daily Forecast").setAttribute("id","toggle-forecast-daily");const r=t("div",a,"forecast-container");n(r,"../dist/images/cloudy.svg","Sunday",i[0],s[0]),n(r,"../dist/images/cloudy.svg","Monday",i[1],s[1]),n(r,"../dist/images/cloudy.svg","Tuesday",i[2],s[2]),n(r,"../dist/images/cloudy.svg","Wednesday",i[3],s[3]),n(r,"../dist/images/cloudy.svg","Thursday",i[4],s[4])}([43,44,45,46,47,42,39],[39,40,42,42,42,39,34]);const r="170fee3662f94ec3d6b36434fe3d4c00";let m="imperial",l="Seattle";async function c(e){const t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${r}&units=${m}`),i=await t.json(),{visibility:n,timezone:d,main:l,weather:c,name:o,wind:u,dt:g}=i,p=new Date(1e3*g+1e3*d).getDay(),y=new Date(1e3*g+1e3*d).getUTCHours(),h=new Date(1e3*g+1e3*d).toUTCString().slice(0,22);!function(e,t,i,n){const a=document.getElementById("weather-description-text"),d=document.getElementById("city-description-text"),r=document.getElementById("date-description-text"),m=document.getElementsByClassName("temperature-text")[0];a.innerText=e,d.innerText=t,r.innerText=i,"imperial"===s?m.innerText=`${n} °F`:"metric"===s&&(m.innerText=`${n} °C`)}(c[0].description,o,h,Math.round(l.temp));const x=new Date(1e3*i.sys.sunset+1e3*d).toUTCString().slice(-12,-7);!function(e,t,i,n,a,d,r,m){document.getElementById("sunrise-cell").innerText=`${e}`,document.getElementById("sunset-cell").innerText=`${t}`,document.getElementById("pressure-cell").innerText=`${i}mb`,document.getElementById("wind-direction-cell").innerText=`${n}°`;const l=document.getElementById("feels-like-cell");"imperial"===s?l.innerText=`${a} °F`:"metric"===s&&(l.innerText=`${a} °C`),document.getElementById("humidity-cell").innerText=`${d}%`,document.getElementById("visibility-cell").innerText=`${r}m`;const c=document.getElementById("wind-cell");"imperial"===s?c.innerText=`${m}mph`:"metric"===s&&(c.innerText=`${m} m/s`)}(new Date(1e3*i.sys.sunrise+1e3*d).toUTCString().slice(-12,-7),x,l.pressure,u.deg,Math.round(l.feels_like),l.humidity,n,Math.round(u.speed)),function(e){for(let t=0;t<document.getElementsByClassName("temp-high").length;t++)e[t]%7==0?document.getElementsByClassName("forecast-day")[t].innerText="Sunday":e[t]%7==1?document.getElementsByClassName("forecast-day")[t].innerText="Monday":e[t]%7==2?document.getElementsByClassName("forecast-day")[t].innerText="Tuesday":e[t]%7==3?document.getElementsByClassName("forecast-day")[t].innerText="Wednesday":e[t]%7==4?document.getElementsByClassName("forecast-day")[t].innerText="Thursday":e[t]%7==5?document.getElementsByClassName("forecast-day")[t].innerText="Friday":e[t]%7==6&&(document.getElementsByClassName("forecast-day")[t].innerText="Saturday")}([p+1,p+2,p+3,p+4,p+5]),function(e,t){const i=Math.floor(2*Math.random());console.log(i),a.style.backgroundImage="Rain"===e||"Drizzle"===e?"url(../dist/images/rain.jpg)":"Clear"===e?"url(../dist/images/landscape.jpg)":"Thunderstorm"===e&&0===i?"url(../dist/images/lightning-strike.jpg)":"Thunderstorm"===e&&1===i?"url(../dist/images/lightning.jpg)":"Mist"===e||"Fog"===e?"url(../dist/images/cloudy-forest.jpg)":"Clouds"===e?"url(../dist/images/cloudy-day.jpg)":"Smoke"===e||"Haze"===e?"url(../dist/images/cloudy-forest.jpg)":"Dust"===e||"Sand"===e?"url(../dist/images/desert.jpg)":"Snow"===e&&0===i?"url(../dist/images/snow.jpg)":"Snow"===e&&1===i?"url(../dist/images/snowy-forest.jpg)":"url(../dist/images/landscape.jpg)","Clear"===e&&(t>=19||t<=8)&&(a.style.backgroundImage="url(../dist/images/night-time.jpg)")}(c[0].main,y),console.log(i)}async function o(e){const t=await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${e}&appid=${r}&units=${m}`),i=await t.json(),{list:n}=i;!function(e,t){for(let i=0;i<document.getElementsByClassName("temp-high").length;i++)"imperial"===s?(document.getElementsByClassName("temp-high")[i].innerText=`${e[i]} °F`,document.getElementsByClassName("temp-low")[i].innerText=`${t[i]} °F`):"metric"===s&&(document.getElementsByClassName("temp-high")[i].innerText=`${e[i]} °C`,document.getElementsByClassName("temp-low")[i].innerText=`${t[i]} °C`)}([Math.round(n[1].main.temp_max),Math.round(n[9].main.temp_max),Math.round(n[15].main.temp_max),Math.round(n[23].main.temp_max),Math.round(n[31].main.temp_max)],[Math.round(n[1].main.temp_min),Math.round(n[9].main.temp_min),Math.round(n[15].main.temp_min),Math.round(n[23].main.temp_min),Math.round(n[31].main.temp_min)])}document.getElementById("search-bar").addEventListener("keypress",(e=>{"Enter"===e.key&&(l=document.getElementById("search-bar").value,c(l),o(l))})),document.getElementById("toggle-units").addEventListener("click",(()=>{"imperial"===m?m="metric":"metric"===m&&(m="imperial"),c(l),o(l)})),a.style.backgroundImage="url(../dist/images/landscape.jpg)",c("Seattle"),o("Seattle")})();